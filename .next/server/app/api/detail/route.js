(()=>{var e={};e.id=389,e.ids=[389],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8281:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>x,routeModule:()=>l,serverHooks:()=>d,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>u});var s={};t.r(s),t.d(s,{GET:()=>c});var a=t(6559),n=t(8088),i=t(7719),o=t(2190);async function c(e){let r=new URL(e.url).searchParams.get("id");if(!r)return o.NextResponse.json({results:[]});try{let e=`https://ncmapi.aldyh.top/lyric?id=${encodeURIComponent(r)}`,n=await fetch(e),i=await n.json();var t=i.lrc.lyric,s=i.tlyric.lyric||null,a=i.romalrc.lyric.replace(/\[(.*?)\]/g,"")||null;return[t,s,a]=function(e,r,t){let s=/\[(.*?)\]/g;if(!r)return[e=e.replace(s,""),r,t];let a=r.match(s)[0];return[e=(e=e.slice(e.indexOf(a)+a.length)).replace(s,""),r=r.replace(s,""),t]}(t,s,a),o.NextResponse.json({lyric:t,tlyric:s,romalrc:a})}catch(e){return console.error("Error fetching data from external API:",e),o.NextResponse.json({results:[]})}}let l=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/detail/route",pathname:"/api/detail",filename:"route",bundlePath:"app/api/detail/route"},resolvedPagePath:"/home/aldy2007/workspace/code-work/lyrics/src/app/api/detail/route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:u,serverHooks:d}=l;function x(){return(0,i.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:u})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,580],()=>t(8281));module.exports=s})();